(this.webpackJsonpFOF=this.webpackJsonpFOF||[]).push([[0],{37:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},57:function(e,t){},59:function(e,t){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),r=c(38),a=c.n(r),i=(c(48),c(9)),o=c(3),j=c(4),u=(c(49),c(8)),l=c(14),d=(c(50),c(1));function b(e){var t=e.children,c=e.className,n=Object(l.a)(e,["children","className"]);return Object(d.jsx)(i.b,Object(u.a)(Object(u.a)({className:"customLink ".concat(c||"")},n),{},{children:t}))}var h=c(42),x=c(41),p=c(19),O=c(5),m=c.n(O),f=c(6),v=c(39),g=c(40),_=c(18),N=c.n(_),w=new(function(){function e(t){Object(v.a)(this,e),this.key="",this.url="https://api.globalgiving.org/api/public",this.nextProjectId="",this.key=t}return Object(g.a)(e,[{key:"getAllProjects",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,c,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url,"/projectservice/all/projects?api_key=").concat(this.key));case 2:return t=e.sent,e.next=5,t.text();case 5:return c=e.sent,n=N.a.xml2json(c,{compact:!0,spaces:4}),s=JSON.parse(n),this.nextProjectId=s.projects.nextProjectId._text,e.abrupt("return",s.projects.project);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProject",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var c,n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url,"/projectservice/projects/").concat(t,"?api_key=").concat(this.key));case 2:return c=e.sent,e.next=5,c.text();case 5:return n=e.sent,s=N.a.xml2json(n,{compact:!0,spaces:4}),r=JSON.parse(s),e.abrupt("return",r.project);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextProjects",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,c,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url,"/projectservice/all/projects?api_key=").concat(this.key,"&nextProjectId=").concat(this.nextProjectId));case 2:return t=e.sent,e.next=5,t.text();case 5:return c=e.sent,n=N.a.xml2json(c,{compact:!0,spaces:4}),s=JSON.parse(n),this.nextProjectId=s.projects.nextProjectId._text,e.abrupt("return",s.projects.project);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchProjects",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var c,n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.url,"/services/search/projects?api_key=").concat(this.key,"&q=").concat(t));case 2:return c=e.sent,e.next=5,c.text();case 5:if(n=e.sent,s=N.a.xml2json(n,{compact:!0,spaces:4}),r=JSON.parse(s),0!==Number(r.search.response._attributes.numberFound)){e.next=10;break}return e.abrupt("return",[]);case 10:if(!Array.isArray(r.search.response.projects.project)){e.next=12;break}return e.abrupt("return",r.search.response.projects.project);case 12:return e.abrupt("return",[r.search.response.projects.project]);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())("10589698-10cd-41b4-8c14-f59842ed0abc"),y=(c(71),{message:"",type:"error"});function k(e){var t=e.currentState,c=Object(n.useState)(!1),s=Object(j.a)(c,2),r=s[0],a=s[1];return Object(n.useEffect)((function(){t.message!==y.message&&(a(!0),setTimeout((function(){a(!1)}),t.time?t.time:5e3))}),[t]),Object(d.jsx)("div",{className:"modal text ".concat(t.type," ").concat(r?"on":"off"),children:t.message})}var S=Object(n.createContext)({});function P(e){var t=e.children,c=Object(n.useState)([]),s=Object(j.a)(c,2),r=s[0],a=s[1],i=Object(n.useState)([]),o=Object(j.a)(i,2),u=o[0],l=o[1],b=Object(n.useState)(!1),h=Object(j.a)(b,2),x=h[0],O=h[1],v=Object(n.useState)(y),g=Object(j.a)(v,2),_=g[0],N=g[1];function k(){return P.apply(this,arguments)}function P(){return(P=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,w.getAllProjects();case 4:t=e.sent,O(!1),localStorage.setItem("projects",JSON.stringify(t)),a(t),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),N({message:"Error: Something happened when loading projects",type:"error"}),O(!1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function F(){return(F=Object(f.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,w.getProject(t);case 4:if(c=e.sent){e.next=7;break}throw new Error("Error: Project not found");case 7:return O(!1),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),N({message:"Error: Project not found",type:"error"}),O(!1),console.log(e.t0),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function q(){return(q=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),e.next=6,w.getNextProjects();case 6:t=e.sent,localStorage.setItem("projects",JSON.stringify([].concat(Object(p.a)(r),Object(p.a)(t)))),O(!1),a([].concat(Object(p.a)(r),Object(p.a)(t))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),N({message:"Error: Something happened when loading new projects",type:"error"}),O(!1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function E(){return(E=Object(f.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,w.searchProjects(t);case 4:c=e.sent,O(!1),l(c),0===c.length&&N({message:"Any foundation was found",type:"success"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),N({message:"Error: Something happened when loading new projects",type:"error"}),O(!1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function L(){return(L=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l([]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=JSON.parse(localStorage.getItem("projects")+""))||!t.length){e.next=6;break}w.nextProjectId=String(t.length),a(t),e.next=8;break;case 6:return e.next=8,k();case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(d.jsx)(S.Provider,{value:{projects:r,getAllProjects:k,getProject:function(e){return F.apply(this,arguments)},lazyLoadProjects:function(){return q.apply(this,arguments)},searchProjects:function(e){return E.apply(this,arguments)},clearSearchedProjects:function(){return L.apply(this,arguments)},searchedProjects:u,loading:x,message:_},children:t})}var F=function(){return Object(n.useContext)(S)};function q(e){var t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],r=c[1],a=new IntersectionObserver((function(e){var t=Object(j.a)(e,1)[0];return r(t.isIntersecting)}));return Object(n.useEffect)((function(){return e.current&&a.observe(e.current),function(){a.disconnect()}}),[]),s}c(37);function E(e){var t=e.children,c=e.className,n=Object(l.a)(e,["children","className"]);return Object(d.jsx)("button",Object(u.a)(Object(u.a)({className:"button ".concat(c||"")},n),{},{children:t}))}c(72),c(73);function L(e){var t,c,n=e.project,s=Object(o.f)();return Object(d.jsxs)("div",{onClick:function(){s("/projects/".concat(n.id._text))},className:"card",children:[Object(d.jsx)("div",{className:"card_image_container",children:Object(d.jsx)("img",{src:n.organization?null===(t=n.organization)||void 0===t||null===(c=t.logoUrl)||void 0===c?void 0:c._text:n.imageLink._text,alt:n.title._text})}),Object(d.jsxs)("div",{className:"card_info",children:[Object(d.jsxs)("div",{className:"card_title",children:[Object(d.jsx)("span",{className:"title",children:n.title._text}),Object(d.jsx)("span",{className:"title",children:n.themeName._text})]}),Object(d.jsxs)("div",{className:"card_data",children:[Object(d.jsx)("p",{children:n.summary._text.slice(0,150)+"..."}),Object(d.jsxs)("div",{className:"card_money",children:[Object(d.jsxs)("p",{className:Number(n.funding._text)<Number(n.goal._text)?"needFunds":"completeFunds",children:[Object(d.jsxs)("span",{children:["$ ",n.funding._text]})," ",Object(d.jsx)("sub",{children:"funding"})]}),Object(d.jsxs)("p",{className:"goal",children:[Object(d.jsxs)("span",{children:["$ ",n.goal._text]})," ",Object(d.jsx)("sub",{children:"goal"})]})]})]})]})]})}function I(e){var t=e.projects;return Object(d.jsx)("div",{className:"cards_container content_container",children:t.map((function(e,t){return Object(d.jsx)(L,{project:e},e.id._text+t)}))})}c(74);function A(e){var t=e.state,c=e.size,s=Object(n.useState)(!0),r=Object(j.a)(s,2),a=r[0],i=r[1];return Object(n.useEffect)((function(){i(!t)}),[t]),a?Object(d.jsx)("div",{}):Object(d.jsx)("div",{className:"".concat(t?"loading_on":"loading_off"),children:Object(d.jsx)("div",{style:{width:c,height:c},className:"circle"})})}c(75);function C(e){var t=e.showWhen;return Object(d.jsx)("div",{className:"loading_container_modal ".concat(t?"show_container":""),children:Object(d.jsx)(A,{size:"5rem",state:t})})}c(76);function z(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(j.a)(r,2),i=a[0],o=a[1],u=F(),l=u.searchProjects,b=u.clearSearchedProjects,p=u.searchedProjects,O=u.loading,m=Object(n.useRef)(null),f=Object(n.useRef)(null),v=q(f);function g(){c&&""!==i&&v?l(i):_()}function _(){var e;(o(""),s(!c),c)||(null===(e=m.current)||void 0===e||e.focus());b()}return Object(n.useEffect)((function(){p.length?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),[p]),Object(d.jsxs)("div",{ref:f,children:[Object(d.jsxs)("div",{className:"search_container",children:[Object(d.jsxs)("div",{className:"search_input_container ".concat(c?"on":"off"),children:[Object(d.jsx)("input",{ref:m,onKeyDown:function(e){"Enter"===e.key&&g()},autoFocus:!0,onChange:function(e){var t=e.currentTarget;o(t.value)},value:i,type:"text"}),Object(d.jsx)("div",{onClick:function(){_()},className:"exit",children:Object(d.jsx)(x.a,{})})]}),Object(d.jsx)(E,{style:{borderRadius:c?"0 0.2rem 0.2rem 0":"0.2rem",transition:"background-color 500ms, color 500ms, border-radius 2s",alignItems:"center",zIndex:5},onClick:g,children:Object(d.jsx)(h.a,{fontSize:"1.3rem"})})]}),Object(d.jsx)("section",{className:"search_foundations ".concat(p.length?"show":"hide"),children:Object(d.jsx)(I,{projects:p})}),Object(d.jsx)(C,{showWhen:O&&c&&v})]})}var J=c(43);function R(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),a=Object(j.a)(r,2),o=a[0],u=a[1],l=function(){var e=Object(n.useState)([0,0]),t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(n.useLayoutEffect)((function(){function e(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),c}(),h=Object(j.a)(l,1)[0];return Object(n.useEffect)((function(){window.innerWidth<=660&&s(!0)}),[h]),c?Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("div",{className:"header_logo",children:Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("img",{src:"/icons/extended_logo.svg",alt:"Foundation of Foundations | FOF"})})}),Object(d.jsx)(E,{onClick:function(){u(!o)},children:Object(d.jsx)(J.a,{})}),Object(d.jsx)("div",{className:"mobile_menu_container",children:Object(d.jsxs)("div",{className:"mobile_menu ".concat(o?"open":""),children:[Object(d.jsx)("nav",{className:"header_menu text",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(b,{to:"/about",children:"About FOF"})})]})}),Object(d.jsx)("div",{className:"header_search",children:Object(d.jsx)(z,{})})]})})]}):Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("div",{className:"header_logo",children:Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("img",{src:"/icons/extended_logo.svg",alt:"Foundation of Foundations | FOF"})})}),Object(d.jsx)("nav",{className:"header_menu text",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(b,{to:"/about",children:"About FOF"})})]})}),Object(d.jsx)("div",{className:"header_search",children:Object(d.jsx)(z,{})})]})}c(77),c(78);function W(e){var t=e.children,c=e.className,n=e.otherLocation,s=Object(l.a)(e,["children","className","otherLocation"]);return n?Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",className:"button buttonLink ".concat(c||""),href:String(s.to),children:t}):Object(d.jsx)(i.b,Object(u.a)(Object(u.a)({className:"button buttonLink ".concat(c||"")},s),{},{children:t}))}c(79);function H(e){var t=e.title,c=e.paragraph,n=e.link,s=e.image,r=e.style,a=e.className;return Object(d.jsx)("div",{style:Object(u.a)({backgroundImage:"url(".concat(s,")")},r),className:"hero ".concat(a||""),children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:t}),Object(d.jsx)("p",{children:c}),Object(d.jsx)(W,{otherLocation:n.otherLocation,to:n.url,children:n.text})]})})}function U(){return Object(d.jsxs)("main",{children:[Object(d.jsx)("section",{children:Object(d.jsx)(H,{title:"FOF | Foundation of Foundations",paragraph:"",link:{url:"https://www.globalgiving.org/",otherLocation:!0,text:"Global Giving"},image:"https://source.unsplash.com/random"})}),Object(d.jsxs)("section",{className:"about content_container",children:[Object(d.jsxs)("div",{className:"about_container",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"See what we are doing"}),Object(d.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aut eos fugit nihil blanditiis consectetur, minima eaque quia dignissimos. Aliquam suscipit ullam voluptates quis numquam laborum velit, consectetur iste magni incidunt voluptatibus rem voluptas ipsa hic id consequatur odit autem ea accusamus impedit totam expedita nostrum libero? Culpa sint in doloremque."})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://source.unsplash.com/random",alt:""})})]}),Object(d.jsxs)("div",{className:"about_container",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://source.unsplash.com/random",alt:""})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"See what we are doing"}),Object(d.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aut eos fugit nihil blanditiis consectetur, minima eaque quia dignissimos. Aliquam suscipit ullam voluptates quis numquam laborum velit, consectetur iste magni incidunt voluptatibus rem voluptas ipsa hic id consequatur odit autem ea accusamus impedit totam expedita nostrum libero? Culpa sint in doloremque."})]})]}),Object(d.jsxs)("div",{className:"about_container",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"See what we are doing"}),Object(d.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aut eos fugit nihil blanditiis consectetur, minima eaque quia dignissimos. Aliquam suscipit ullam voluptates quis numquam laborum velit, consectetur iste magni incidunt voluptatibus rem voluptas ipsa hic id consequatur odit autem ea accusamus impedit totam expedita nostrum libero? Culpa sint in doloremque."})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://source.unsplash.com/random",alt:""})})]})]})]})}c(80);function $(){var e=F(),t=e.projects,c=e.loading,s=e.lazyLoadProjects,r=e.message,a=Object(n.useRef)(null),i=q(a);return Object(n.useEffect)((function(){s()}),[i]),Object(d.jsxs)("main",{children:[Object(d.jsx)("section",{children:Object(d.jsx)(H,{title:"Help us build a culture of helpers",paragraph:"We're doing something about it",link:{url:"/about",text:"See how"},image:"/bg-children.jpg"})}),Object(d.jsxs)("div",{className:"content_container",children:[Object(d.jsx)("section",{children:Object(d.jsx)(I,{projects:t})}),Object(d.jsx)("div",{ref:a}),Object(d.jsx)("div",{className:"loading_container",children:Object(d.jsx)(A,{size:"5rem",state:c})})]}),Object(d.jsx)(k,{currentState:r})]})}c(81);function T(){var e=Object(o.g)().id,t=F(),c=t.getProject,s=t.loading,r=t.message,a=Object(n.useState)(),i=Object(j.a)(a,2),u=i[0],l=i[1],b=0===Number(null===u||void 0===u?void 0:u.remaining._text);return Object(n.useEffect)((function(){Object(f.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(Number(e));case 2:(n=t.sent)&&l(n);case 4:case"end":return t.stop()}}),t)})))()}),[]),Object(d.jsxs)("main",{children:[u?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("section",{children:Object(d.jsx)(H,{style:{padding:"0 3rem"},className:"hero_fundation",title:u.title._text,paragraph:u.country._text,link:{url:u.contactUrl._text,text:"Help us",otherLocation:!0},image:u.image.imagelink[5].url._text})}),Object(d.jsxs)("div",{className:"content_container",children:[Object(d.jsx)(C,{showWhen:s}),Object(d.jsxs)("section",{className:"information_container",children:[Object(d.jsxs)("div",{className:"information_title_text",children:[Object(d.jsx)("span",{className:"title",children:"Long term impact"}),Object(d.jsx)("p",{children:u.longTermImpact._text})]}),Object(d.jsxs)("div",{className:"information_title_text",children:[Object(d.jsx)("span",{className:"title",children:"Needs"}),Object(d.jsx)("p",{children:u.need._text})]}),Object(d.jsxs)("div",{className:"information_title_text",children:[Object(d.jsx)("span",{className:"title",children:"Activities"}),Object(d.jsx)("p",{children:u.activities._text})]}),Object(d.jsxs)("div",{className:"project_status",children:[Object(d.jsxs)("p",{className:"goal",children:[Object(d.jsx)("span",{children:"Goal"}),Object(d.jsxs)("span",{children:["$ ",u.goal._text]})]}),Object(d.jsxs)("p",{className:"".concat(b?"completeFunds":"needFunds"),children:[Object(d.jsx)("span",{children:"Funding"}),Object(d.jsxs)("span",{children:["$ ",u.funding._text]})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Remaining"}),Object(d.jsxs)("span",{children:["$ ",u.remaining._text]})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Donations"}),Object(d.jsx)("span",{children:u.numberOfDonations._text})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Reports"}),Object(d.jsx)("span",{children:u.numberOfReports._text})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"Status"}),Object(d.jsx)("span",{children:u.status._text})]})]}),Object(d.jsxs)("address",{className:"contact",children:[Object(d.jsx)("span",{className:"title",children:"Contact"}),Object(d.jsx)("p",{children:u.contactName?"Talk to ".concat(u.contactName._text):""}),Object(d.jsx)("p",{children:u.contactPostal?"Postal: ".concat(u.contactPostal._text):""}),Object(d.jsx)("p",{children:u.contactUrl?Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:u.contactUrl._text,children:u.contactUrl._text}):""}),Object(d.jsxs)("p",{children:[u.contactCountry._text,",","  ",u.contactState._text,",","  ",u.contactCity._text,",","  ",u.contactAddress._text]})]})]})]})]}):"",Object(d.jsx)(k,{currentState:r})]})}var D=function(){return Object(d.jsx)(P,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(R,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/about",element:Object(d.jsx)(U,{})}),Object(d.jsx)(o.a,{path:"projects/:id",element:Object(d.jsx)(T,{})}),Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)($,{})})]})]})})};a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.820bef2f.chunk.js.map